<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gestor de Facturas</title>
    <link rel="icon" type="image/png" href="/assets/icon_folder.png">
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <div class="container">
      <h1 class="title-page">Organizador de Facturas</h1>

      <div id="drop-zone" class="drop-zone">Arrastra aquí imágenes o PDFs (o haz click)</div>
      <input id="file-input" type="file" multiple style="display:none" accept="image/*,application/pdf" />

      <div id="preview"></div>

      <button id="upload-btn" class="upload-btn" disabled><i data-feather="upload"></i> <span class="text">Subir archivos</span></button>

      <h2 class="subtitle-page" style="margin-top: 12px;">Facturas</h2>
      <div id="result" class="result"></div>

      <h2 id="income-title" class="subtitle-page" style="margin-top: 12px;">Ingresos netos</h2>
      <div id="resultIncome" class="result-income"></div>
    </div>

    <!-- Modal para renombrar archivos antes de subir -->
    <div id="rename-modal" class="modal" style="display:none">
      <div class="modal-content">
        <h3>Confirmar nombres de archivos</h3>
        <div id="modal-error" class="modal-error" role="alert"></div>
        
        <div id="modal-list"></div>
        
        <div class="modal-actions">
          <button id="modal-cancel">Cancelar</button>
          <button id="modal-confirm">Confirmar</button>
        </div>
      </div>
    </div>

    <!-- Modal para editar factura -->
    <div id="edit-modal" class="modal" style="display:none">
      <div class="modal-content">
        <h3>Editar factura</h3>
        <div id="edit-modal-error" class="modal-error" role="alert"></div>
        <div id="edit-modal-list"></div>
        <div class="modal-actions">
          <button id="edit-modal-cancel">Cancelar</button>
          <button id="edit-modal-confirm">Guardar cambios</button>
        </div>
      </div>
    </div>

    <!-- Modal de confirmación de borrado -->
    <div id="delete-modal" class="modal" style="display:none">
      <div class="modal-content">
        <h3>Confirmar borrado</h3>
        <p id="delete-modal-message">¿Deseas borrar este archivo?</p>
        <div class="modal-actions">
          <button id="delete-modal-cancel">Cancelar</button>
          <button id="delete-modal-confirm" class="danger">Borrar</button>
        </div>
      </div>
    </div>

    <!-- Modal de descarga completada -->
    <div id="download-modal" class="modal" style="display:none">
      <div class="modal-content">
        <h3>Descarga completada</h3>
        <p id="download-modal-message">¿Quieres borrar las facturas de este año para liberar espacio?</p>
        <div class="modal-actions">
          <button id="download-modal-cancel">No</button>
          <button id="download-modal-confirm" class="danger">Borrar año</button>
        </div>
      </div>
    </div>

    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="/main.js"></script>
  </body>
</html>
